{"version":3,"sources":["webpack:///./src/core/app.js","webpack:///./src/index.css","webpack:///./src/core/async-component.js","webpack:///./src/core/async-modules.js","webpack:///./src/core/reducers.js","webpack:///./src/index.js","webpack:///./src/modules/main/index.js","webpack:///./src/utils/promise.js","webpack:///./src/modules/main/index.css","webpack:///./src/core/store.js"],"names":[],"mappings":"8IASA,KAAM,EAAQ,IACd,OAAe,EAAkC,MACjB,IAAmB,QAA3C,SAAM,YAAS,SAmBR,IAjBN,UACP,YACG,IADH,CACmB,gBACd,MAFL,SAEqB,oBACd,kBACE,kBACE,IALX,eAK6B,EAAK,eAAiB,SAAqB,EAAK,WAClE,IANX,eAM6B,EAAQ,eAAiB,SAAqB,EAAQ,WACxE,IAPX,eAO6B,EAAK,eAAiB,SAAqB,EAAK,WAClE,IARX,IAQwB,EAMzB,UAED,iBC9BA,qDCK0C,WAClC,CAGA,eAAuB,YAAU,uDAK7B,UAER,qBAAqB,OACS,SAAe,KAAnC,YAAS,IACjB,YACA,yBACG,KAAK,KAA+B,uBACnC,gBAAK,SAAS,CAAE,YACjB,cAHH,GAIG,MAAO,KACN,CAAI,EAAM,WAAY,QAAQ,KAAK,6BAA8B,EAAO,SAAS,SAAS,MACrF,QAAQ,MACd,mBACJ,EAED,uBACE,CAAyC,UAArC,QAAO,MAAK,sBAAqC,KACrD,4BAAK,MAAM,MAAM,KAAK,MACvB,WAED,SACE,OAAO,CAAC,CAAC,KAAK,MAAM,WAAa,uBAAM,MAAM,UAAc,KAC5D,MAEH,QAAO,UACR,KAhCG,OAAO,MAAY,CAAE,KAAM,sBAE7B,gB,kDANF,2DCDqC,WAAO,CACjC,aAAiD,mCACxD,sBACA,YAAO,CAAE,YAAW,UACrB,aACD,OAJA,WAKE,MACE,MACA,iCAAK,sFAAY,YAAZ,EAA+B,8CAA/B,0GAAL,qDAEF,cACE,MACA,wCAAK,sFAAY,YAAZ,EAA+B,8CAA/B,0GAAL,qDAEF,WACE,MACA,qCAAK,sFAAY,YAAZ,EAA+B,8CAA/B,0GAAL,qDAGL,M,8CArBD,sCCES,YAA4C,8DAAxB,CAAE,IAAsB,mBACnD,UAAQ,EACN,MACE,QAEL,eAEuB,UAAkC,2DACxD,YAAO,cACL,CAGH,W,4BAdD,wMCOI,KAAuC,YAC3C,kBAAQ,QAAQ,SAAS,eAAe,2CCH/B,aAAmB,SAC1B,sCACkB,WASnB,mFAbD,4BAKqB,yBACZ,eAAe,sBAAsB,wBACrC,eAAe,sBAAsB,kCACrC,eAAe,sBAAsB,yBAW9C,EAAK,aACH,cAGF,gBAAe,sCC1BgB,aAC7B,IACA,MAAM,EAAiB,GAAI,SAAkB,OAC3C,GAAQ,KAAK,KAAQ,EAAW,EAAO,CAAc,gBACrD,QAAQ,MAAM,KAAU,EAAW,EAAO,CAAc,gBACzD,KACD,SACE,CACA,kBACE,CACD,IAEJ,EAEc,sBCdf,gDCIS,YAEP,IAAM,GAAM,EACZ,mCAAsB,UAAR,WAAqB,IACpC,QAEuB,UAAkC,2DACxD,MAAM,EAAW,IACjB,OAAM,EAAc,SAAQ,SAAgB,EAAhB,GAC5B,KAAM,EAAQ,IACd,YAED,SADC,wBAG8C,eAC9C,CAAI,IAAQ,GACZ,uBAAO,OAAO,EAAM,cAClB,CAAC,IAAe,OACd,IACA,WAAoB,qBAAhB,KAAO,MAAkC,EAC3C,cAEF,UACD,MAEH,MAAM,eAAe,SAAc,EACpC,gB,oCA5BD","file":"app.c777a0a58ee0cec1f308.js","sourcesContent":["import React from 'react';\nimport { Provider } from 'react-redux';\nimport { Switch, Route, Redirect } from 'react-router';\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\nimport configureStore from './store';\nimport createAsyncComponent from './async-component';\nimport createAsyncModules from './async-modules';\nimport Main from '../modules/main';\n\nconst store = configureStore();\nconst Router = process.env.GITHUB ? HashRouter : BrowserRouter;\nconst { home, octocat, info } = createAsyncModules(store);\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Router history={history}>\n        <Main>\n          <Switch>\n            <Route exact path={home.path} component={createAsyncComponent(home.get)} />\n            <Route exact path={octocat.path} component={createAsyncComponent(octocat.get)} />\n            <Route exact path={info.path} component={createAsyncComponent(info.get)} />\n            <Redirect to={home.path} />\n          </Switch>\n        </Main>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/app.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.css\n// module id = 154\n// module chunks = 6","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { makeCancelable } from '../utils/promise';\n\nexport default function getAsyncComponent(fetchComponent) {\n  const mapDispatchToProps = {\n    reset: payload => ({ type: 'RESET_ASYNC_REDUCER', payload }),\n  };\n  class AsyncComponent extends Component {\n    static propTypes = {\n      reset: PropTypes.func.isRequired,\n    };\n\n    state = {};\n\n    componentWillMount() {\n      const { promise, cancel } = makeCancelable(fetchComponent());\n      this.cancelFetchComponent = cancel;\n      promise\n        .then(({ component, reducerKey }) => {\n          this.setState({ component, reducerKey });\n        })\n        .catch((error) => {\n          if (error.isCanceled) console.warn('fetchComponent is canceled', global.document.location.href);\n          else console.error('fetchComponent', error);\n        });\n    }\n\n    componentWillUnmount() {\n      if (typeof this.cancelFetchComponent === 'function') this.cancelFetchComponent();\n      this.props.reset(this.state.reducerKey);\n    }\n\n    render() {\n      return !!this.state.component && <this.state.component {...this.props} />;\n    }\n  }\n  return connect(null, mapDispatchToProps)(AsyncComponent);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/async-component.js","import { injectAsyncReducer } from './store';\n\nexport default function createRoutes(store) {\n  function injectModule({ component, reducer, reducerKey }) {\n    injectAsyncReducer(store, reducerKey, reducer);\n    return { component, reducer, reducerKey };\n  }\n  return {\n    home: {\n      path: '/',\n      get: async () => injectModule(await import(/* webpackChunkName: \"home\" */ '../modules/home')),\n    },\n    octocat: {\n      path: '/octocat',\n      get: async () => injectModule(await import(/* webpackChunkName: \"octocat\" */ '../modules/octocat')),\n    },\n    info: {\n      path: '/info',\n      get: async () => injectModule(await import(/* webpackChunkName: \"info\" */ '../modules/info')),\n    },\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/async-modules.js","import { combineReducers } from 'redux';\n\nfunction noopReducer(state = { foo: 'bar' }, action) {\n  switch (action.type) {\n    default:\n      return state;\n  }\n}\n\nexport default function createReducer(asyncReducers = {}) {\n  return combineReducers({\n    noop: noopReducer,\n    ...asyncReducers,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/reducers.js","import 'normalize.css/normalize.css';\nimport * as OfflinePluginRuntime from 'offline-plugin/runtime';\nimport { render } from 'react-dom';\nimport React from 'react';\nimport './index.css';\nimport App from './core/app';\n\nif (process.env.NODE_ENV === 'production') OfflinePluginRuntime.install();\nrender(<App />, document.getElementById('root'));\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './index.css';\n\nfunction Main({ children }) {\n  return (\n    <main className=\"App\">\n      <nav className=\"navigation\">\n        <Link className=\"navigation__link\" to=\"/\">Home</Link>\n        <Link className=\"navigation__link\" to=\"/octocat\">Octocat</Link>\n        <Link className=\"navigation__link\" to=\"/info\">Info</Link>\n      </nav>\n      {children}\n    </main>\n  );\n}\n\nMain.propTypes = {\n  children: PropTypes.node,\n};\n\nMain.defaultProps = {\n  children: <noscript />,\n};\n\nexport default Main;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/main/index.js","export function makeCancelable(promise) {\n  let canceled = false;\n  const wrappedPromise = new Promise((resolve, reject) => {\n    promise.then(val => (canceled ? reject({ isCanceled: true }) : resolve(val)));\n    promise.catch(error => (canceled ? reject({ isCanceled: true }) : reject(error)));\n  });\n  return {\n    promise: wrappedPromise,\n    cancel() {\n      canceled = true;\n    },\n  };\n}\n\nexport default makeCancelable;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/promise.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/main/index.css\n// module id = 208\n// module chunks = 6","import { createStore, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport createReducer from './reducers';\n\nfunction devTools() {\n  // eslint-disable-next-line no-underscore-dangle\n  const rde = global.__REDUX_DEVTOOLS_EXTENSION__;\n  return typeof rde === 'function' ? rde() : compose;\n}\n\nexport default function configureStore(initialState = {}) {\n  const reducers = createReducer();\n  const middlewares = compose(applyMiddleware(thunk), devTools());\n  const store = createStore(reducers, initialState, middlewares);\n  store.asyncReducers = {};\n  return store;\n}\n\nexport function injectAsyncReducer(store, name, asyncReducer) {\n  if (name in store.asyncReducers) return;\n  Object.assign(store.asyncReducers, {\n    [name]: (state, action) => {\n      let newState = state;\n      if (action.type === 'RESET_ASYNC_REDUCER' && action.payload === name) {\n        newState = undefined;\n      }\n      return asyncReducer(newState, action);\n    },\n  });\n  store.replaceReducer(createReducer(store.asyncReducers));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/store.js"],"sourceRoot":""}